<!--
@license
Copyright (c) 2015 Pete Carapetyan. All rights reserved.
This code may only be used under the BSD style license found at https://github.com/datafundamentals/polyrest/blob/master/LICENSE.txt
-->
<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../schema-guesser/schema-guesser.html">

<dom-module id="polyrest-home">
    <template>
        <style>
            :host {
                display: block;
            }
        </style>
        <paper-input label="Paste your HATEOAS REST API url here, or use the demo provided. Then click the arrow." value="{{rooturl}}"></paper-input>
        <paper-icon-button on-tap="dosomething" id="setroot" icon="send"></paper-icon-button>

    </template>
    <script>
        (function () {
            'use strict';

            Polymer({
                is: 'polyrest-home',

                behaviors: [SlashHandler.PassUrl],


                properties: {
                    rooturl: {
                        type: String,
                        value: 'http://146.20.82.65:12345/',
                        notify: true
                    }
                },
                dosomething: function () {
                    var rootparam = SlashHandler.PassUrl.encodeUrl(this.rooturl);
                    var BASE_URL = new URL('./', document.location.href).href;
                    window.location = BASE_URL + "#!/itemlist/" + rootparam;
                    window.location.reload();
                }
            });
        })();
    </script>
</dom-module>
